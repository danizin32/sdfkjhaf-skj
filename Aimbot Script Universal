--[[
âœ… SCRIPT FEITO POR CHATGPT - INTERFACE COMPLETA, AIMBOT, ESP E FOV
JOGO: Prison Life | EXECUTOR: Mobile (Arceus X, Hydrogen, etc.)
--]]

if not game:IsLoaded() then game.Loaded:Wait() end
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local RunService = game:GetService("RunService")
local camera = workspace.CurrentCamera

-- Config
local config = {
    esp = false,
    aimbot = false,
    fovSize = 120,
    teamCheck = true
}

-- Salvar/Carregar Config
local function saveConfig()
    pcall(function()
        writefile("aimbot_config.json", game:GetService("HttpService"):JSONEncode(config))
    end)
end

local function loadConfig()
    pcall(function()
        local content = readfile("aimbot_config.json")
        local data = game:GetService("HttpService"):JSONDecode(content)
        for k,v in pairs(data) do config[k] = v end
    end)
end
loadConfig()

-- UI Setup
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "BlueInterface"
local Frame = Instance.new("Frame", ScreenGui)
Frame.Position = UDim2.new(0.05, 0, 0.2, 0)
Frame.Size = UDim2.new(0, 300, 0, 60)
Frame.BackgroundColor3 = Color3.fromRGB(15, 15, 25)
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true

local UICorner = Instance.new("UICorner", Frame)
UICorner.CornerRadius = UDim.new(0, 6)

-- Top bar
local topBar = Instance.new("Frame", Frame)
topBar.Size = UDim2.new(1, 0, 0, 30)
topBar.BackgroundColor3 = Color3.fromRGB(0, 120, 255)
local UICornerTop = Instance.new("UICorner", topBar)
UICornerTop.CornerRadius = UDim.new(0, 6)

-- Title
local title = Instance.new("TextLabel", topBar)
title.Text = "Painel"
title.Size = UDim2.new(1, 0, 1, 0)
title.BackgroundTransparency = 1
title.TextColor3 = Color3.new(1,1,1)
title.Font = Enum.Font.GothamBold
title.TextScaled = true

-- Minimizar botÃ£o
local minimized = false
local toggleBtn = Instance.new("TextButton", topBar)
toggleBtn.Text = "-"
toggleBtn.Size = UDim2.new(0, 30, 0, 30)
toggleBtn.Position = UDim2.new(1, -30, 0, 0)
toggleBtn.TextColor3 = Color3.new(1,1,1)
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.TextScaled = true
toggleBtn.BackgroundTransparency = 1

local contentElements = {}

-- BotÃ£o toggle
local y = 35
local function createToggle(name, setting, icon)
    local btn = Instance.new("TextButton", Frame)
    btn.Size = UDim2.new(0.9, 0, 0, 35)
    btn.Position = UDim2.new(0.05, 0, 0, y)
    btn.Text = icon .. " " .. name .. ": " .. (config[setting] and "ON" or "OFF")
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.BackgroundColor3 = config[setting] and Color3.fromRGB(0, 120, 255) or Color3.fromRGB(60, 60, 60)
    btn.Font = Enum.Font.GothamBold
    btn.TextScaled = true
    Instance.new("UICorner", btn)
    btn.MouseButton1Click:Connect(function()
        config[setting] = not config[setting]
        btn.Text = icon .. " " .. name .. ": " .. (config[setting] and "ON" or "OFF")
        btn.BackgroundColor3 = config[setting] and Color3.fromRGB(0, 120, 255) or Color3.fromRGB(60, 60, 60)
        saveConfig()
    end)
    table.insert(contentElements, btn)
    y += 40
    Frame.Size = UDim2.new(0, 300, 0, y + 35)
end

-- FOV Controls
createToggle("ESP", "esp", "ðŸ§±")
createToggle("Aimbot", "aimbot", "ðŸŽ¯")

local fovLabel = Instance.new("TextLabel", Frame)
fovLabel.Size = UDim2.new(1, 0, 0, 30)
fovLabel.Position = UDim2.new(0, 0, 0, y)
fovLabel.Text = "FOV: " .. config.fovSize
fovLabel.BackgroundTransparency = 1
fovLabel.TextColor3 = Color3.new(1, 1, 1)
fovLabel.Font = Enum.Font.Gotham
fovLabel.TextScaled = true
table.insert(contentElements, fovLabel)
y += 30

local plus = Instance.new("TextButton", Frame)
plus.Size = UDim2.new(0.45, 0, 0, 30)
plus.Position = UDim2.new(0.05, 0, 0, y)
plus.Text = "+"
plus.TextColor3 = Color3.new(1, 1, 1)
plus.Font = Enum.Font.GothamBold
plus.BackgroundColor3 = Color3.fromRGB(0, 120, 255)
Instance.new("UICorner", plus)
table.insert(contentElements, plus)

local minus = plus:Clone()
minus.Text = "-"
minus.Position = UDim2.new(0.5, 0, 0, y)
minus.Parent = Frame
table.insert(contentElements, minus)
y += 35

plus.Parent = Frame
plus.MouseButton1Click:Connect(function()
    config.fovSize += 20
    fovLabel.Text = "FOV: " .. config.fovSize
    saveConfig()
end)
minus.MouseButton1Click:Connect(function()
    config.fovSize = math.max(20, config.fovSize - 20)
    fovLabel.Text = "FOV: " .. config.fovSize
    saveConfig()
end)

-- CrÃ©ditos
local credits = Instance.new("TextLabel", Frame)
credits.Size = UDim2.new(1, 0, 0, 30)
credits.Position = UDim2.new(0, 0, 0, y)
credits.Text = "Feito por ChatGPT"
credits.BackgroundTransparency = 1
credits.TextColor3 = Color3.fromRGB(0, 150, 255)
credits.Font = Enum.Font.Gotham
credits.TextScaled = true
table.insert(contentElements, credits)
y += 30
Frame.Size = UDim2.new(0, 300, 0, y + 35)

-- Minimizar
toggleBtn.MouseButton1Click:Connect(function()
    minimized = not minimized
    for _, element in ipairs(contentElements) do
        element.Visible = not minimized
    end
    Frame:TweenSize(
        minimized and UDim2.new(0, 300, 0, 30) or UDim2.new(0, 300, 0, y + 35),
        Enum.EasingDirection.Out,
        Enum.EasingStyle.Quad,
        0.3,
        true
    )
end)

-- FOV CÃ­rculo
local circle = Drawing.new("Circle")
circle.Radius = config.fovSize
circle.Thickness = 1
circle.Color = Color3.fromRGB(0, 120, 255)
circle.Transparency = 0.6
circle.Filled = false

-- Aimbot e ESP
local function getClosest()
    local closest, dist = nil, math.huge
    for _, v in pairs(Players:GetPlayers()) do
        if v ~= LocalPlayer and v.Character and v.Character:FindFirstChild("Head") then
            if config.teamCheck and v.Team == LocalPlayer.Team then continue end
            local pos, onScreen = camera:WorldToViewportPoint(v.Character.Head.Position)
            if onScreen then
                local mag = (Vector2.new(pos.X, pos.Y) - Vector2.new(Mouse.X, Mouse.Y)).Magnitude
                if mag < dist and mag <= config.fovSize then
                    closest = v
                    dist = mag
                end
            end
        end
    end
    return closest
end

-- ESP
RunService.RenderStepped:Connect(function()
    circle.Visible = config.aimbot
    circle.Radius = config.fovSize
    circle.Position = Vector2.new(Mouse.X, Mouse.Y)

    for _, v in pairs(Players:GetPlayers()) do
        if v ~= LocalPlayer and v.Character and v.Character:FindFirstChild("Head") and config.esp then
            if config.teamCheck and v.Team == LocalPlayer.Team then continue end
            local headPos, visible = camera:WorldToViewportPoint(v.Character.Head.Position)
            if visible then
                local billboard = v.Character:FindFirstChild("ESPLabel")
                if not billboard then
                    billboard = Instance.new("BillboardGui", v.Character)
                    billboard.Name = "ESPLabel"
                    billboard.Size = UDim2.new(0, 100, 0, 20)
                    billboard.StudsOffset = Vector3.new(0, 3, 0)
                    billboard.AlwaysOnTop = true
                    local label = Instance.new("TextLabel", billboard)
                    label.Size = UDim2.new(1, 0, 1, 0)
                    label.BackgroundTransparency = 1
                    label.TextColor3 = v.TeamColor.Color
                    label.TextScaled = true
                    label.Text = v.Name
                    label.Font = Enum.Font.GothamBold
                end
                local dist = math.floor((LocalPlayer.Character.Head.Position - v.Character.Head.Position).Magnitude)
                billboard.TextLabel.Text = v.Name .. " [" .. dist .. "m]"
            end
        elseif v.Character:FindFirstChild("ESPLabel") then
            v.Character.ESPLabel:Destroy()
        end
    end

    if config.aimbot then
        local target = getClosest()
        if target and target.Character and target.Character:FindFirstChild("Head") then
            camera.CFrame = CFrame.new(camera.CFrame.Position, target.Character.Head.Position)
        end
    end
end)
