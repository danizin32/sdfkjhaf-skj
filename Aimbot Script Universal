--[[ Script criado por ChatGPT com base nas preferências do usuário.
Funções: ESP, Aimbot com headlock no time inimigo, controle de distância da câmera, interface preta com bordas vermelhas.
Uso autorizado para testes e detecção de exploits. ]]

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera
local LocalPlayer = Players.LocalPlayer

-- Configurações
local aimbotAtivo = false
local espAtivo = false
local cameraDistancia = 10

-- GUI
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.ResetOnSpawn = false

local frame = Instance.new("Frame", ScreenGui)
frame.Position = UDim2.new(0, 20, 0.5, -150)
frame.Size = UDim2.new(0, 270, 0, 0)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderColor3 = Color3.fromRGB(255, 0, 0)
frame.BorderSizePixel = 2
frame.AutomaticSize = Enum.AutomaticSize.Y
frame.ClipsDescendants = false
frame.Name = "Interface"

local UIListLayout = Instance.new("UIListLayout", frame)
UIListLayout.Padding = UDim.new(0, 4)
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder

-- Função criar botão
local function criarBotao(texto, callback)
	local btn = Instance.new("TextButton", frame)
	btn.Size = UDim2.new(1, -10, 0, 30)
	btn.Position = UDim2.new(0, 5, 0, 0)
	btn.Text = texto
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	btn.BackgroundColor3 = Color3.fromRGB(30, 0, 0)
	btn.BorderColor3 = Color3.fromRGB(255, 0, 0)
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 14
	btn.AutoButtonColor = false
	btn.MouseButton1Click:Connect(function()
		callback()
		btn.BackgroundColor3 = (btn.BackgroundColor3 == Color3.fromRGB(30, 0, 0)) and Color3.fromRGB(100, 0, 0) or Color3.fromRGB(30, 0, 0)
	end)
end

-- Botões
criarBotao("Ativar ESP", function()
	espAtivo = not espAtivo
end)

criarBotao("Ativar Aimbot", function()
	aimbotAtivo = not aimbotAtivo
end)

local zoomValor = Instance.new("TextLabel", frame)
zoomValor.Size = UDim2.new(1, -10, 0, 30)
zoomValor.Text = "Zoom: " .. tostring(cameraDistancia)
zoomValor.TextColor3 = Color3.fromRGB(255, 255, 255)
zoomValor.BackgroundColor3 = Color3.fromRGB(20, 0, 0)
zoomValor.BorderColor3 = Color3.fromRGB(255, 0, 0)
zoomValor.Font = Enum.Font.Gotham
zoomValor.TextSize = 14

criarBotao("Zoom +", function()
	cameraDistancia = math.clamp(cameraDistancia + 2, 5, 50)
	zoomValor.Text = "Zoom: " .. tostring(cameraDistancia)
end)

criarBotao("Zoom -", function()
	cameraDistancia = math.clamp(cameraDistancia - 2, 5, 50)
	zoomValor.Text = "Zoom: " .. tostring(cameraDistancia)
end)

-- Créditos
local creditos = Instance.new("TextLabel", frame)
creditos.Size = UDim2.new(1, -10, 0, 30)
creditos.Text = "Criado por ChatGPT | Testes autorizados"
creditos.TextColor3 = Color3.fromRGB(255, 255, 255)
creditos.BackgroundColor3 = Color3.fromRGB(10, 0, 0)
creditos.BorderColor3 = Color3.fromRGB(255, 0, 0)
creditos.Font = Enum.Font.Gotham
creditos.TextSize = 12

-- Função ESP
local function criarESP(player)
	if player == LocalPlayer then return end
	local box = Instance.new("BoxHandleAdornment")
	box.Name = "ESPBox"
	box.Size = Vector3.new(2, 5, 1)
	box.Color3 = Color3.fromRGB(255, 0, 0)
	box.Transparency = 0
	box.ZIndex = 0
	box.AlwaysOnTop = true
	box.Adornee = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
	box.Parent = player.Character
end

local function removerESP(player)
	if player.Character then
		for _, obj in pairs(player.Character:GetChildren()) do
			if obj:IsA("BoxHandleAdornment") and obj.Name == "ESPBox" then
				obj:Destroy()
			end
		end
	end
end

RunService.RenderStepped:Connect(function()
	for _, player in pairs(Players:GetPlayers()) do
		if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
			local sameTeam = player.Team == LocalPlayer.Team
			if espAtivo and not sameTeam then
				if not player.Character:FindFirstChild("ESPBox") then
					criarESP(player)
				end
			else
				removerESP(player)
			end
		end
	end
end)

-- Função Aimbot
RunService.RenderStepped:Connect(function()
	if not aimbotAtivo then return end
	local closest = nil
	local minDist = math.huge
	for _, player in pairs(Players:GetPlayers()) do
		if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("Head") and player.Team ~= LocalPlayer.Team then
			local headPos, onScreen = Camera:WorldToViewportPoint(player.Character.Head.Position)
			if onScreen then
				local dist = (Vector2.new(headPos.X, headPos.Y) - Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y/2)).Magnitude
				if dist < minDist then
					minDist = dist
					closest = player
				end
			end
		end
	end

	if closest and closest.Character and closest.Character:FindFirstChild("Head") then
		Camera.CFrame = CFrame.new(Camera.CFrame.Position, closest.Character.Head.Position)
	end
end)

-- Função para aplicar zoom real
RunService.RenderStepped:Connect(function()
	local char = LocalPlayer.Character
	if char and char:FindFirstChild("HumanoidRootPart") then
		local head = char:FindFirstChild("Head")
		if head then
			Camera.CameraType = Enum.CameraType.Scriptable
			local offset = Vector3.new(0, 2, cameraDistancia)
			local focus = head.Position + Vector3.new(0, 1.5, 0)
			local camPos = head.Position + offset
			Camera.CFrame = CFrame.new(camPos, focus)
		end
	end
end)
